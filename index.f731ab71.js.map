{"mappings":"AAGA,IAAIA,EACAC,EACJ,MAAMC,EAAaC,SAASC,cAAc,iBAC1CJ,EAAUG,SAASC,cAAc,WACjCH,EAAYE,SAASC,cAAc,UACnC,MAAMC,EAAUF,SAASC,cAAc,aAEvC,SAASE,EAAUC,GACjBA,EAAOC,UAAUC,IAAI,S,CAEvB,SAASC,EAAUH,GACjBA,EAAOC,UAAUG,OAAO,S,CAG1B,SAASC,EAAQC,GACf,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,MAAMJ,GACHK,MAAKC,IACJ,GAAKA,EAASC,GAEP,OAAOD,EAASE,OADrBL,EAAOf,EACoB,IAE9BiB,MAAKI,IACJP,EAAQO,EAAK,IAEdC,OAAMC,GAAOR,EAAOQ,IAAK,G,CA0ChClB,EAAUN,GACVM,EAAUL,GAvCRW,EA/BA,qHA+BgBM,MAAKI,IACnB,MAAMG,EAAaH,EAChBI,KAAIC,GAAW,kBAAkBA,EAAQC,OAAOD,EAAQE,kBACxDC,KAAK,IACR5B,EAAW6B,mBAAmB,aAAcN,EAAW,IAqC3DvB,EAAW8B,iBAAiB,UAZ5B,SAAsBC,GArBtB,IAAyBC,EAsBvB5B,EAAUL,GACVS,EAAUV,GACVK,EAAQ8B,UAAY,GAtBpBvB,EADe,wDADQsB,EAyBPD,EAAEG,OAAOC,SAtBtBnB,MAAKI,IACJ,MAAMgB,EAAU,mBAAmBhB,EAAK,GAAGT,+BAC3CR,EAAQ0B,mBAAmB,aAAcO,EAAQ,IAElDf,OAAMC,IACLd,EAAUT,EAAU,IAGxBW,EADkB,uCAAuCsB,KAEtDhB,MAAKI,IACJ,MAAMiB,EAAe,8BAA8BjB,EAAKO,eAAeP,EAAKkB,sCAAsClB,EAAKmB,wBACvHpC,EAAQ0B,mBAAmB,YAAaQ,EAAa,IAEtDhB,OAAMC,IACLd,EAAUT,EAAU,IASxByC,YAAW,KACTpC,EAAUN,EAAQ,GACjB,I","sources":["src/js/cat-api.js"],"sourcesContent":["const catApi =\n  'https://api.thecatapi.com/v1/breeds?api_key=live_lICq8CvALSqDOOGteKLfstNbQ0FFbekBPNTeXFQqaeLv7ofwBQa3owxwAO2DE2EQ';\nconst catInfo = 'https://api.thecatapi.com/v1/images/search';\nlet loading;\nlet errorInfo;\nconst selectMenu = document.querySelector('.breed-select');\nloading = document.querySelector('.loader');\nerrorInfo = document.querySelector('.error');\nconst catDesc = document.querySelector('.cat-info');\n\nfunction hideAlert(loader) {\n  loader.classList.add('hidden');\n}\nfunction showAlert(loader) {\n  loader.classList.remove('hidden');\n}\n\nfunction pingUrl(url) {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          reject(errorInfo);\n        } else return response.json();\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => reject(err));\n  });\n}\nfunction fetchBreeds() {\n  pingUrl(catApi).then(data => {\n    const userChoice = data\n      .map(dataOne => `<option value='${dataOne.id}'>${dataOne.name}</option>`)\n      .join('');\n    selectMenu.insertAdjacentHTML('afterbegin', userChoice);\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  const catUrl = `${catInfo}?breed_ids=${breedId}`;\n  pingUrl(catUrl)\n    .then(data => {\n      const picture = `<div><img src =\"${data[0].url}\" class =\"cat-pic\"></div>`;\n      catDesc.insertAdjacentHTML('afterbegin', picture);\n    })\n    .catch(err => {\n      showAlert(errorInfo);\n    });\n  const catChoice = `https://api.thecatapi.com/v1/breeds/${breedId}`;\n  pingUrl(catChoice)\n    .then(data => {\n      const catParagraph = `<div class = \"cat-txt\"><h1>${data.name}</h1><p>${data.description}</p><h2>Temperament</h2>${data.temperament}</p></div>`;\n      catDesc.insertAdjacentHTML('beforeend', catParagraph);\n    })\n    .catch(err => {\n      showAlert(errorInfo);\n    });\n}\n\nfunction eventHandler(e) {\n  hideAlert(errorInfo);\n  showAlert(loading);\n  catDesc.innerHTML = '';\n  fetchCatByBreed(e.target.value);\n  setTimeout(() => {\n    hideAlert(loading);\n  }, 500);\n}\nhideAlert(loading);\nhideAlert(errorInfo);\nfetchBreeds();\nselectMenu.addEventListener('change', eventHandler);\n"],"names":["$c4ebbd28ee7007ee$var$loading","$c4ebbd28ee7007ee$var$errorInfo","$c4ebbd28ee7007ee$var$selectMenu","document","querySelector","$c4ebbd28ee7007ee$var$catDesc","$c4ebbd28ee7007ee$var$hideAlert","loader","classList","add","$c4ebbd28ee7007ee$var$showAlert","remove","$c4ebbd28ee7007ee$var$pingUrl","url","Promise","resolve","reject","fetch","then","response","ok","json","data","catch","err","userChoice","map","dataOne","id","name","join","insertAdjacentHTML","addEventListener","e","breedId","innerHTML","target","value","picture","catParagraph","description","temperament","setTimeout"],"version":3,"file":"index.f731ab71.js.map"}